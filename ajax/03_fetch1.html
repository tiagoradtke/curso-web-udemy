<!DOCTYPE html>
<html>

<head>
    <meta charset='UTF-8'>
    <title>Fetch API #01</title>
    <link rel='stylesheet' href='css/estilo.css'>
</head>

<body class="conteudo exercicio">
    <h1>Estados</h1>
    <!-- 
        https://developer.mozilla.org/pt-BR/docs/Web/API/Fetch_API/Using_Fetch
        Este tipo de funcionalidade era alcançada anteriormente utilizando 
        XMLHttpRequest. Fetch fornece uma alternativa melhor que pode ser 
        facilmente utilizada por outras tecnologias como Service Workers. 
        Fetch também provê um lugar lógico único para definir outros 
        conceitos HTTP-relacionados como CORS e extensões ao HTTP.
     -->
    <script>
        // ...
        const url = 'dados/estados.json'
        fetch(url)
            .then(resp => resp.json())
            .then(estados =>{
                const itens = estados.reduce(
                    (html, estado) => html + `<li>${estado.nome}</li>`,''
                )
                document.body.insertAdjacentHTML('beforeend', `<ul>${itens}</ul>`)
            })
    </script>
</body>